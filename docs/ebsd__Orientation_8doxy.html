<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>NanoTribology: EBSD/ebsd_Orientation.doxy File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo" width="200"><img alt="Logo" src="logo1.png"/></td>
  <td>
   <div id="projectname"> <!--NanoTribology--> <center> NanoTribology code </center>
    <!-- Version: 1--> 
   </div>
  </td>
  <td id="projectlogo" width="200"><img alt="Logo" src="htmlInput/logo2.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5bc23c883415a8b2d74bf6dce974927c.html">EBSD</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ebsd_Orientation.doxy File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Tutorials for <a class="el" href="namespaceebsd__Orientation.html">ebsd_Orientation</a>. </p>
<h1><a class="anchor" id="overview_sec"></a>
Overview</h1>
<p>Orientation class: An orientation is combination of material symmetry (e.g. cubic) and specific rotation (e.g. rotated by 45 degrees)</p>
<h1><a class="anchor" id="tutorials"></a>
Tutorials</h1>
<h2><a class="anchor" id="exampleColors"></a>
Example: check colors of certain orientations. Answers are given in RGB scale.</h2>
<p>Three examples are investigated:</p>
<ul>
<li>[100] = red: 1,0,0</li>
<li>[110] = green: 0,1,0 (rotation by 45deg arount Phi)</li>
<li>[111] = blue: 0,0,1 Each example creates an angle from 3 float values, creates an orientation and rounds the color to improve reabability. <pre class="fragment">&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from ebsd_Orientation import Orientation
&gt;&gt;&gt; angle = np.radians([0,0,0])
&gt;&gt;&gt; o = Orientation(Eulers=angle, symmetry="cubic")
&gt;&gt;&gt; np.round(o.IPFcolor( [0,0,1] ),3)
array([ 1.,  0.,  0.])
&gt;&gt;&gt; angle = np.radians([0,45,0])
&gt;&gt;&gt; o = Orientation(Eulers=angle, symmetry="cubic")
&gt;&gt;&gt; np.round(o.IPFcolor( [0,0,1] ),3)
array([ 0.,  1.,  0.])
&gt;&gt;&gt; angle = np.radians([0,55,45])
&gt;&gt;&gt; o = Orientation(Eulers=angle, symmetry="cubic")
&gt;&gt;&gt; np.round(o.IPFcolor( [0,0,1] ),3)
array([ 0.  ,  0.09,  1.  ])</pre></li>
</ul>
<h2><a class="anchor" id="exampleColorsb"></a>
Example: [111] direction is difficult to ad-hoc define by angles. Use vectors to calculate</h2>
<p>and verify </p>
<div class="image">
<img src="ebsd_Orientation1.png" alt="ebsd_Orientation1.png"/>
</div>
 <pre class="fragment">&gt;&gt;&gt; hkl = np.array([1,1,1], dtype=np.float)
&gt;&gt;&gt; uvw1 = np.array([1,-1,0], dtype=np.float)
&gt;&gt;&gt; np.dot(hkl,uvw1)
0.0
&gt;&gt;&gt; hkl /= np.linalg.norm(hkl)
&gt;&gt;&gt; uvw1 /= np.linalg.norm(uvw1)
&gt;&gt;&gt; uvw2 = np.cross(hkl,uvw1)
&gt;&gt;&gt; rotM = np.vstack( (uvw1,uvw2,hkl) )
&gt;&gt;&gt; rotM
array([[ 0.70710678, -0.70710678,  0.        ],
       [ 0.40824829,  0.40824829, -0.81649658],
       [ 0.57735027,  0.57735027,  0.57735027]])
&gt;&gt;&gt; o = Orientation(matrix=rotM, symmetry='cubic')
&gt;&gt;&gt; o.plot()                                           
&gt;&gt;&gt; o.plot([1,0,0])                                    
&gt;&gt;&gt; o.asEulers(degrees=True)
array([  0.        ,  54.73561032,  45.        ])
&gt;&gt;&gt; np.round(o.IPFcolor( [0,0,1] ),3)                  #should be blue
array([ 0.,  0.,  1.])</pre><h2><a class="anchor" id="example1b"></a>
Compare to OIM Software</h2>
<p>OIM software shows the 2D projection with the RD upward. Note, many textbooks have the RD downward. ND is always pointing out of the plane; TD changes depending on RD </p>
<pre class="fragment">&gt;&gt;&gt; o = Orientation(Eulers=np.radians([0,10,10]), symmetry="cubic")
&gt;&gt;&gt; o.plot( )                                          
&gt;&gt;&gt; o.plot(proj2D='up-left')                              
&gt;&gt;&gt; o.plot(axis=[1,0,0], proj2D='up-left', scale=1.5)     
&gt;&gt;&gt; o.plot(axis=[1,1,1])                               
&gt;&gt;&gt; o.toScreen(equivalent=False)
Euler angles: [  0.  10.  10.]
HKL [ 1  5 32]
UVW [ 5 -1  0]</pre><p> The HKL and UVW vectors are rounded to integer, hence rough values. They are convenient but not precise.</p>
<h2><a class="anchor" id="example3"></a>
Example: calculate average orientation</h2>
<pre class="fragment">&gt;&gt;&gt; o = Orientation(Eulers=np.radians([0,45,0]), symmetry="cubic")
&gt;&gt;&gt; oHelp = Orientation(Eulers=np.array([0.,0.,0.]), symmetry="cubic")   #find equivalent directions
&gt;&gt;&gt; for q in oHelp.symmetry.equivalentQuaternions(oHelp.quaternion):
...   axis      = q.conjugated()*np.array([1,0,0])
...   direction = o.inversePole( axis, SST=False)[0]
...   print axis, direction
[ 1.  0.  0.] [ 1.  0.  0.]
[ 1.  0.  0.] [ 1.  0.  0.]
[-1.  0.  0.] [-1.  0.  0.]
[-1.  0.  0.] [-1.  0.  0.]
[-1.  0.  0.] [-1.  0.  0.]
[-1.  0.  0.] [-1.  0.  0.]
[ 0.  0.  1.] [ 0.          0.70710678  0.70710678]
[ 0.  0. -1.] [ 0.         -0.70710678 -0.70710678]
[ 0. -1.  0.] [ 0.         -0.70710678  0.70710678]
[ 0.  1.  0.] [ 0.          0.70710678 -0.70710678]
[ 0.  0.  1.] [ 0.          0.70710678  0.70710678]
[ 0.  1.  0.] [ 0.          0.70710678 -0.70710678]
[ 0.  0. -1.] [ 0.         -0.70710678 -0.70710678]
[ 0.  0.  1.] [ 0.          0.70710678  0.70710678]
[ 0.  0. -1.] [ 0.         -0.70710678 -0.70710678]
[ 0. -1.  0.] [ 0.         -0.70710678  0.70710678]
[ 0.  1.  0.] [ 0.          0.70710678 -0.70710678]
[ 0. -1.  0.] [ 0.         -0.70710678  0.70710678]
[ 0.  1.  0.] [ 0.          0.70710678 -0.70710678]
[ 0. -1.  0.] [ 0.         -0.70710678  0.70710678]
[ 0.  0. -1.] [ 0.         -0.70710678 -0.70710678]
[ 0.  0.  1.] [ 0.          0.70710678  0.70710678]
[ 1.  0.  0.] [ 1.  0.  0.]
[ 1.  0.  0.] [ 1.  0.  0.]</pre><h2><a class="anchor" id="example3"></a>
Example: calculate average orientation</h2>
<pre class="fragment">&gt;&gt;&gt; a = Orientation(Eulers=np.radians([0,45,0]), symmetry='cubic')
&gt;&gt;&gt; b = Orientation(Eulers=np.radians([0,0,0]), symmetry='cubic')
&gt;&gt;&gt; avg = Orientation.average([a,b,b])                       #take orientation b twice
&gt;&gt;&gt; print "Rotation angles",avg.asEulers(degrees=True)
Rotation angles [  0.         14.6388066   0.       ]</pre><h1><a class="anchor" id="ebsd_Orientation_Code"></a>
Python source code documentation</h1>
<p><a class="el" href="classebsd__Orientation_1_1Orientation.html">ebsd_Orientation.Orientation</a> material symmetry + rotation of a material point </p>
</div></div><!-- contents -->

<hr class="footer"/><address class="footer"><small>
Copyright by Steffen Brinckmann
<!--Generated on Thu Jun 28 2018 21:51:26 for NanoTribology by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5 -->
</small></address>
</body>
</html>
